<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
    <link rel="stylesheet" href="./css/main.css" />
</head>
<body>

  <!-- admin password -->
  <div id="authSection">
    <h2>Введіть пароль для доступу до адмін-панелі</h2>
    <input type="password" id="password" placeholder="Пароль" />
    <button id="loginButton">Увійти</button>
    <div id="authMessage"></div>
</div>
<div id="adminPanel" style="display:none;">
   


    <div class="navigation-list">
        <ul class="dash-under-link">
            <li class="nav__link"><a href="index.html" class="active">Головна</a></li>
            <li class="nav__link"><a href="about.html">Про нас</a></li>
            <li class="nav__link"><a href="#">Портфоліо</a></li>
            <li class="nav__link"><a href="#">Послуги</a></li>
            <li class="nav__link"><a href="#">Відгуки</a></li>
            <li class="nav__link"><a href="admin.html">Панель Адміністратора</a></li>
        </ul>
    </div>

    <form id="uploadForm" enctype="multipart/form-data">
      <input type="file" id="photo" name="photo" accept="image/*" required />
      <input type="text" id="description" name="description" placeholder="Опис" required /> <!-- Поле для опису -->
      <input type="text" id="decorName" name="decorName" placeholder="Назва декору" required /> <!-- Поле для назви декору -->
      
      <input type="number" id="price" name="price" placeholder="Ціна" step="0.01" required /> <!-- Поле для ціни -->
      <button type="submit">Завантажити</button>
  </form>
  

    <h2>Список фото</h2>
    <div id="photoList" class="testimonials__row"></div>

    <script src="./js/script.js"></script>

    <!-- <script>
      document.getElementById('loginButton').addEventListener('click', function () {
          const password = document.getElementById('password').value;
  
          if (password === '1') { // Змініть на ваш пароль
              localStorage.setItem('isAdminLoggedIn', 'true'); // Зберігаємо стан входу
              document.getElementById('authSection').style.display = 'none';
              document.getElementById('adminPanel').style.display = 'block';
              loadPhotos(); // Завантажуємо фотографії
          } else {
              document.getElementById('authMessage').innerText = 'Невірний пароль.';
          }
      });
  
      // Перевіряємо стан входу при завантаженні сторінки
      document.addEventListener('DOMContentLoaded', function() {
          const isAdminLoggedIn = localStorage.getItem('isAdminLoggedIn');
          if (isAdminLoggedIn === 'true') {
              document.getElementById('authSection').style.display = 'none';
              document.getElementById('adminPanel').style.display = 'block';
              loadPhotos(); // Завантажуємо фотографії
          }
      });
  
      function logout() {
          localStorage.removeItem('isAdminLoggedIn'); // Очищаємо стан входу
          document.getElementById('adminPanel').style.display = 'none'; // Сховати адмін панель
          document.getElementById('authSection').style.display = 'block'; // Показати форму входу
      }
  </script>
   -->



   <script>
    document.addEventListener('DOMContentLoaded', function() {
        const isAdminLoggedIn = localStorage.getItem('isAdminLoggedIn');

        if (isAdminLoggedIn === 'true') {
            // Якщо адмін увійшов, показати адмін панель та завантажити фотографії
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            loadPhotos(); // Завантажуємо фотографії
        } else {
            // Якщо адмін не увійшов, показати форму входу
            document.getElementById('authSection').style.display = 'block';
            document.getElementById('adminPanel').style.display = 'none';
            document.getElementById('photosContainer').style.display = 'none'; // Сховати контейнер з фото
        }
    });

    document.getElementById('loginButton').addEventListener('click', function () {
        const password = document.getElementById('password').value;
        if (password === '1') { // Змініть на ваш пароль
            localStorage.setItem('isAdminLoggedIn', 'true'); // Зберегти стан входу
            document.getElementById('authSection').style.display = 'none';
            document.getElementById('adminPanel').style.display = 'block';
            document.getElementById('photosContainer').style.display = 'block'; // Показати контейнер з фото
            loadPhotos(); // Завантажуємо фотографії
        } else {
            document.getElementById('authMessage').innerText = 'Невірний пароль.';
            document.getElementById('photosContainer').style.display = 'none'; // Сховати контейнер з фото
        }
    });

    function logout() {
        localStorage.removeItem('isAdminLoggedIn'); // Очищаємо стан входу
        document.getElementById('adminPanel').style.display = 'none'; // Сховати адмін панель
        document.getElementById('authSection').style.display = 'block'; // Показати форму входу
        document.getElementById('photosContainer').style.display = 'none'; // Сховати контейнер з фото
    }
</script>


</body>
</html>
