<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Panel</title>
    <link rel="stylesheet" href="/css/main.css" />
</head>
<body>
	<main class="content">

		<div id="authSection">
			<h2>Введіть пароль для доступу до адмін-панелі</h2>
			<input type="password" id="password" placeholder="Пароль" />
			<button id="loginButton">Увійти</button>
			<div id="authMessage"></div>
	</div>
	<div id="adminPanel" style="display:none;">

		<nav class="nav">
			<div class="container">
				<div class="nav__row">
					<div class="logo">
						<img src="./img/icons/logo2.png" alt="logo" />
					</div>

					<!--Hamburger menu-->
					<button id="hamburgerBtn" class="hamburger">&#9776;</button>

					<div class="navigation-list">
						<ul class="dash-under-link">
							<li class="nav__link">
								<a href="/">Головна</a>
							</li>
							<li class="nav__link"><a href="about">Про нас</a></li>
							<li class="nav__link"><a href="#">Портфоліо</a></li>
							<li class="nav__link"><a href="#">Послуги</a></li>
							<li class="nav__link"><a href="#">Відгуки</a></li>
							<li class="nav__link"><a href="admin" class="active">Панель Адміністратора</a></li>
						</ul>
					</div>
				</div>
			</div>
		</nav>

	<section class="container admin-photo-card__container">

    <form id="uploadForm" enctype="multipart/form-data">
      <input type="file" id="photo" name="photo" accept="image/*" required />
      <input type="text" id="description" name="description" placeholder="Опис" required /> <!-- Поле для опису -->
      <input type="text" id="decorName" name="decorName" placeholder="Назва декору" required /> <!-- Поле для назви декору -->
      <input type="number" id="price" name="price" placeholder="Ціна" step="0.01" required /> <!-- Поле для ціни -->
      <button class="card-upload-button" type="submit">Завантажити</button>
    </form>
  
    <h2 class="title admin-card-title">Список фото</h2>
    <div id="photoList" class="testimonials__row"></div>
	</section>

<!-- rewiews -->
<header>
  <h1>Адмін панель - Відгуки, що очікують схвалення</h1>
</header>
<div id="reviewsContainer">
  <!-- Відгуки будуть завантажуватись та відображатись тут -->
</div>



	<footer class="footer">
		<div class="container">
			<div class="footer__row">
				<div class="footer__info">
					<div class="footer__logo">
						<div class="logo">
							<img src="./img/icons/logo.png" alt="logo" />
						</div>
					</div>

					<div class="footer__info-text">
						<p>
							Декоративні штукатурки West Decor дозволяють створювати сучасні
							ефекти: камінь, бетон, травертин, марморін, мерехтливий,
							перламутр, оксамит, мармур.
						</p>
					</div>

					<div class="footer__socials">
						<a href="#!">
							<img src="./img/social/facebook.svg" alt="fb" />
						</a>
						<a href="#!">
							<img src="./img/social/twitter.svg" alt="tw" />
						</a>
						<a href="#!">
							<img src="./img/social/youtube.svg" alt="yt" />
						</a>
						<a href="#!">
							<img src="./img/social/linkedin.svg" alt="ln" />
						</a>
						</div>
					</div>

				<div class="footer__nav">
					<div class="footer__nav-block">
						<h4 class="footer__nav-block-title">Навігація</h4>
						<ul class="dash-under-link dash-under-link__center">
							<li><a href="/">Головна</a></li>
							<li><a href="about">Про нас</a></li>
							<li><a href="#!">Портфоліо</a></li>
							<li><a href="#!">Послуги</a></li>
							<li><a href="#!">Відгуки</a></li>
							<!--Admin-->
						</ul>
					</div>

					<div class="footer__nav-block">
						<h4 class="footer__nav-block-title">Контакти</h4>
						<ul>
							<li>
								<a href="mailto:info@cutspace.com">info@cutspace.com</a>
							</li>
							<li>
								<a href="#!" onclick="confirmCall('+380 95 716 87 47')"
									>+380 95 716 87 47</a
								>
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div>

		<div class="footer__bottom">
			<p>&copy; 2024 West Decor. Всі права захищені.</p>
		</div>
	</footer>

	<!-- scroll to top -->
	<button onclick="topFunction()" id="myBtn" title="Go to top">
		<svg
			xmlns="http://www.w3.org/2000/svg"
			shape-rendering="geometricPrecision"
			text-rendering="geometricPrecision"
			image-rendering="optimizeQuality"
			fill-rule="evenodd"
			clip-rule="evenodd"
			viewBox="0 0 511.998 511.998"
		>
			<path
				fill-rule="nonzero"
				d="M255.999 511.999c70.684-.001 134.695-28.658 181.019-74.981 46.323-46.324 74.981-110.335 74.98-181.019 0-70.691-28.657-134.695-74.98-181.018C390.694 28.657 326.691 0 255.999 0 185.308 0 121.304 28.657 74.981 74.981 28.657 121.304 0 185.308 0 255.999c0 70.684 28.657 134.695 74.981 181.019 46.323 46.323 110.327 74.981 181.018 74.981zm-74.995-203.995c-29.412 16.955-43.962-6.609-27.542-23.789l84.234-95.914c15.311-15.318 21.289-15.318 36.607 0l84.234 95.914c16.303 17.26 2.086 40.686-27.549 23.789l-74.989-44.549-74.995 44.549zM410.99 410.99c-39.657 39.657-94.473 64.199-154.991 64.199-60.525 0-115.334-24.542-154.991-64.199-39.657-39.657-64.199-94.473-64.199-154.991 0-60.525 24.542-115.334 64.199-154.991 39.657-39.657 94.466-64.199 154.991-64.199 60.526 0 115.334 24.542 154.991 64.199 39.657 39.657 64.199 94.466 64.199 154.991 0 60.518-24.542 115.334-64.199 154.991z"
			/>
		</svg>
	</button>

</main>

<script src="js/script.js"></script>
<script src ="js/photoloader.js"></script>
<script src="js/reviews.js"></script>



<script>
	document.addEventListener('DOMContentLoaded', function() {
			const isAdminLoggedIn = localStorage.getItem('isAdminLoggedIn');

			if (isAdminLoggedIn === 'true') {
					// Якщо адмін увійшов, показати адмін панель та завантажити фотографії
					document.getElementById('authSection').style.display = 'none';
					document.getElementById('adminPanel').style.display = 'block';
					loadPhotos(); // Завантажуємо фотографії
			} else {
					// Якщо адмін не увійшов, показати форму входу
					document.getElementById('authSection').style.display = 'block';
					document.getElementById('adminPanel').style.display = 'none';
					document.getElementById('photosContainer').style.display = 'none'; // Сховати контейнер з фото
			}
	});

	document.getElementById('loginButton').addEventListener('click', function () {
			const password = document.getElementById('password').value;
			if (password === '1') { // Змініть на ваш пароль
					localStorage.setItem('isAdminLoggedIn', 'true'); // Зберегти стан входу
					document.getElementById('authSection').style.display = 'none';
					document.getElementById('adminPanel').style.display = 'block';
					document.getElementById('photosContainer').style.display = 'block'; // Показати контейнер з фото
					loadPhotos(); // Завантажуємо фотографії
			} else {
					document.getElementById('authMessage').innerText = 'Невірний пароль.';
					document.getElementById('photosContainer').style.display = 'none'; // Сховати контейнер з фото
			}
	});

	function logout() {
			localStorage.removeItem('isAdminLoggedIn'); // Очищаємо стан входу
			document.getElementById('adminPanel').style.display = 'none'; // Сховати адмін панель
			document.getElementById('authSection').style.display = 'block'; // Показати форму входу
			document.getElementById('photosContainer').style.display = 'none'; // Сховати контейнер з фото
	}
</script>

</body>
</html>
